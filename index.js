/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={977:function(t,e){var n;!function(i){"use strict";const r=function(t){return.5*(Math.exp(t)+Math.exp(-t))},s=function(t){return.5*(Math.exp(t)-Math.exp(-t))},a=function(){throw SyntaxError("Invalid Param")};function o(t,e){const n=Math.abs(t),i=Math.abs(e);return 0===t?Math.log(i):0===e?Math.log(n):n<3e3&&i<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function u(t,e){if(!(this instanceof u))return new u(t,e);const n=function(t,e){const n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return u.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return u.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):a();break;case"string":n.im=n.re=0;const e=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,r=0;null===e&&a();for(let t=0;t<e.length;t++){const s=e[t];" "===s||"\t"===s||"\n"===s||("+"===s?i++:"-"===s?r++:"i"===s||"I"===s?(i+r===0&&a()," "===e[t+1]||isNaN(e[t+1])?n.im+=parseFloat((r%2?"-":"")+"1"):(n.im+=parseFloat((r%2?"-":"")+e[t+1]),t++),i=r=0):((i+r===0||isNaN(s))&&a(),"i"===e[t+1]||"I"===e[t+1]?(n.im+=parseFloat((r%2?"-":"")+s),t++):n.re+=parseFloat((r%2?"-":"")+s),i=r=0))}i+r>0&&a();break;case"number":n.im=0,n.re=t;break;default:a()}return isNaN(n.re)||isNaN(n.im),n}(t,e);this.re=n.re,this.im=n.im}u.prototype={re:0,im:0,sign:function(){const t=this.abs();return new u(this.re/t,this.im/t)},add:function(t,e){const n=new u(t,e);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re+n.re,this.im+n.im)},sub:function(t,e){const n=new u(t,e);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re-n.re,this.im-n.im)},mul:function(t,e){const n=new u(t,e);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:0===n.im&&0===this.im?new u(this.re*n.re,0):new u(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){const n=new u(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return u.NAN;if(this.isInfinite()||n.isZero())return u.INFINITY;if(this.isZero()||n.isInfinite())return u.ZERO;t=this.re,e=this.im;const i=n.re,r=n.im;let s,a;return 0===r?new u(t/i,e/i):Math.abs(i)<Math.abs(r)?(a=i/r,s=i*a+r,new u((t*a+e)/s,(e*a-t)/s)):(a=r/i,s=r*a+i,new u((t+e*a)/s,(e-t*a)/s))},pow:function(t,e){const n=new u(t,e);if(t=this.re,e=this.im,n.isZero())return u.ONE;if(0===n.im){if(0===e&&t>=0)return new u(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new u(Math.pow(e,n.re),0);case 1:return new u(0,Math.pow(e,n.re));case 2:return new u(-Math.pow(e,n.re),0);case 3:return new u(0,-Math.pow(e,n.re))}}const i=Math.atan2(e,t),r=o(t,e);return t=Math.exp(n.re*r-n.im*i),e=n.im*r+n.re*i,new u(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){const t=this.re,e=this.im,n=this.abs();let i,r;if(t>=0){if(0===e)return new u(Math.sqrt(t),0);i=.5*Math.sqrt(2*(n+t))}else i=Math.abs(e)/Math.sqrt(2*(n-t));return r=t<=0?.5*Math.sqrt(2*(n-t)):Math.abs(e)/Math.sqrt(2*(n+t)),new u(i,e<0?-r:r)},exp:function(){const t=Math.exp(this.re);return this.im,new u(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){const t=this.re,e=this.im;return new u(Math.expm1(t)*Math.cos(e)+function(t){const e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;let n=t*t;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){const t=this.re,e=this.im;return new u(o(t,e),Math.atan2(e,t))},abs:function(){return function(t,e){let n=Math.abs(t),i=Math.abs(e);return n<3e3&&i<3e3?Math.sqrt(n*n+i*i):(n<i?(n=i,i=t/e):i=e/t,n*Math.sqrt(1+i*i))}(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const t=this.re,e=this.im;return new u(Math.sin(t)*r(e),Math.cos(t)*s(e))},cos:function(){const t=this.re,e=this.im;return new u(Math.cos(t)*r(e),-Math.sin(t)*s(e))},tan:function(){const t=2*this.re,e=2*this.im,n=Math.cos(t)+r(e);return new u(Math.sin(t)/n,s(e)/n)},cot:function(){const t=2*this.re,e=2*this.im,n=Math.cos(t)-r(e);return new u(-Math.sin(t)/n,s(e)/n)},sec:function(){const t=this.re,e=this.im,n=.5*r(2*e)+.5*Math.cos(2*t);return new u(Math.cos(t)*r(e)/n,Math.sin(t)*s(e)/n)},csc:function(){const t=this.re,e=this.im,n=.5*r(2*e)-.5*Math.cos(2*t);return new u(Math.sin(t)*r(e)/n,-Math.cos(t)*s(e)/n)},asin:function(){const t=this.re,e=this.im,n=new u(e*e-t*t+1,-2*t*e).sqrt(),i=new u(n.re-e,n.im+t).log();return new u(i.im,-i.re)},acos:function(){const t=this.re,e=this.im,n=new u(e*e-t*t+1,-2*t*e).sqrt(),i=new u(n.re-e,n.im+t).log();return new u(Math.PI/2-i.im,i.re)},atan:function(){const t=this.re,e=this.im;if(0===t){if(1===e)return new u(0,1/0);if(-1===e)return new u(0,-1/0)}const n=t*t+(1-e)*(1-e),i=new u((1-e*e-t*t)/n,-2*t/n).log();return new u(-.5*i.im,.5*i.re)},acot:function(){const t=this.re,e=this.im;if(0===e)return new u(Math.atan2(1,t),0);const n=t*t+e*e;return 0!==n?new u(t/n,-e/n).atan():new u(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){const t=this.re,e=this.im;if(0===t&&0===e)return new u(0,1/0);const n=t*t+e*e;return 0!==n?new u(t/n,-e/n).acos():new u(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){const t=this.re,e=this.im;if(0===t&&0===e)return new u(Math.PI/2,1/0);const n=t*t+e*e;return 0!==n?new u(t/n,-e/n).asin():new u(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){const t=this.re,e=this.im;return new u(s(t)*Math.cos(e),r(t)*Math.sin(e))},cosh:function(){const t=this.re,e=this.im;return new u(r(t)*Math.cos(e),s(t)*Math.sin(e))},tanh:function(){const t=2*this.re,e=2*this.im,n=r(t)+Math.cos(e);return new u(s(t)/n,Math.sin(e)/n)},coth:function(){const t=2*this.re,e=2*this.im,n=r(t)-Math.cos(e);return new u(s(t)/n,-Math.sin(e)/n)},csch:function(){const t=this.re,e=this.im,n=Math.cos(2*e)-r(2*t);return new u(-2*s(t)*Math.cos(e)/n,2*r(t)*Math.sin(e)/n)},sech:function(){const t=this.re,e=this.im,n=Math.cos(2*e)+r(2*t);return new u(2*r(t)*Math.cos(e)/n,-2*s(t)*Math.sin(e)/n)},asinh:function(){let t=this.im;this.im=-this.re,this.re=t;const e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){const t=this.acos();if(t.im<=0){let e=t.re;t.re=-t.im,t.im=e}else{let e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){const t=this.re,e=this.im,n=t>1&&0===e,i=1-t,r=1+t,s=i*i+e*e,a=0!==s?new u((r*i-e*e)/s,(e*i+r*e)/s):new u(-1!==t?t/0:0,0!==e?e/0:0),c=a.re;return a.re=o(a.re,a.im)/2,a.im=Math.atan2(a.im,c)/2,n&&(a.im=-a.im),a},acoth:function(){const t=this.re,e=this.im;if(0===t&&0===e)return new u(0,Math.PI/2);const n=t*t+e*e;return 0!==n?new u(t/n,-e/n).atanh():new u(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){const t=this.re,e=this.im;if(0===e)return new u(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);const n=t*t+e*e;return 0!==n?new u(t/n,-e/n).asinh():new u(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){const t=this.re,e=this.im;if(this.isZero())return u.INFINITY;const n=t*t+e*e;return 0!==n?new u(t/n,-e/n).acosh():new u(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;const t=this.re,e=this.im,n=t*t+e*e;return new u(t/n,-e/n)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new u(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new u(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new u(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){const n=new u(t,e);return Math.abs(n.re-this.re)<=u.EPSILON&&Math.abs(n.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){let t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==t&&(n+=t),0!==e&&(0!==t?n+=e<0?" - ":" + ":e<0&&(n+="-"),e=Math.abs(e),1!==e&&(n+=e),n+="i"),n||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-16,void 0===(n=function(){return u}.apply(e,[]))||(t.exports=n)}()},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,s){for(var a,o,u=r(t),c=1;c<arguments.length;c++){for(var h in a=Object(arguments[c]))n.call(a,h)&&(u[h]=a[h]);if(e){o=e(a);for(var l=0;l<o.length;l++)i.call(a,o[l])&&(u[o[l]]=a[o[l]])}}return u}},754:(t,e,n)=>{"use strict";var i=n(418);t.exports=function t(e){if(e=i({mean:0,dev:1,pool:[]},e),Array.isArray(e.pool)&&e.pool.length>0)return function(e){var n=0;do{var i=Math.round(t({mean:e.mean,dev:e.dev}));if(i<e.pool.length&&i>=0)return e.pool[i];n++}while(n<100)}(e);var n,r,s,a=e.mean,o=e.dev;do{n=(r=2*Math.random()-1)*r+(s=2*Math.random()-1)*s}while(n>=1);return o*(r*Math.sqrt(-2*Math.log(n)/n))+a}},991:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.non_wasteful_random_gates=e.gates_to_matrix=void 0;const r=i(n(977)),s=n(861);function a(t,e){return[[t[0][0].mul(e[0][0]),t[0][1].mul(e[0][0]),t[0][0].mul(e[0][1]),t[0][1].mul(e[0][1])],[t[1][0].mul(e[0][0]),t[1][1].mul(e[0][0]),t[1][0].mul(e[0][1]),t[1][1].mul(e[0][1])],[t[0][0].mul(e[1][0]),t[0][1].mul(e[1][0]),t[0][0].mul(e[1][1]),t[0][1].mul(e[1][1])],[t[1][0].mul(e[1][0]),t[1][1].mul(e[1][0]),t[1][0].mul(e[1][1]),t[1][1].mul(e[1][1])]]}function o(t){const e=[[new r.default(Math.SQRT1_2,0),new r.default(Math.SQRT1_2,0)],[new r.default(Math.SQRT1_2,0),new r.default(-Math.SQRT1_2,0)]],n=[[r.default.ONE,r.default.ZERO],[r.default.ZERO,r.default.ONE]],i=[[r.default.ONE,r.default.ZERO],[r.default.ZERO,new r.default(Math.SQRT1_2,Math.SQRT1_2)]];if("cnot"===t.type){if(1===t.control_bit)return[[r.default.ONE,r.default.ZERO,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ONE,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ONE],[r.default.ZERO,r.default.ZERO,r.default.ONE,r.default.ZERO]];if(2===t.control_bit)return[[r.default.ONE,r.default.ZERO,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ONE],[r.default.ZERO,r.default.ZERO,r.default.ONE,r.default.ZERO],[r.default.ZERO,r.default.ONE,r.default.ZERO,r.default.ZERO]];throw t.control_bit,new Error("unreachable")}if("single"===t.type){if(1===t.index)return a({H:e,T:i}[t.gate],n);if(2===t.index)return a(n,{H:e,T:i}[t.gate]);throw t.index,new Error("unreachable")}throw new Error("unreachable")}e.gates_to_matrix=function(t){return t.map(o).reduce(((t,e)=>(0,s.mmul)(t,e)),(0,s.identity)())},e.non_wasteful_random_gates=function(t){const e=[];let n=!1,i=!1,r=!1,s=!1;for(;e.length<t.length;){const t=[{type:"single",index:1,gate:"T"},{type:"single",index:2,gate:"T"}];n||t.push({type:"single",index:1,gate:"H"}),i||t.push({type:"single",index:2,gate:"H"}),r||t.push({type:"cnot",control_bit:1}),s||t.push({type:"cnot",control_bit:2});const o=(a=t)[Math.random()*a.length|0];e.push(o),"cnot"===o.type?(n=!1,i=!1,r=1===o.control_bit,s=2===o.control_bit):"single"===o.type&&(r=!1,s=!1,1===o.index&&(n="H"===o.gate),2===o.index&&(i="H"===o.gate))}var a;return e}},861:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.edit_abs_at=e.edit_arg_at=e.random_unitary=e.gram_schmidt=e.fidelity=e.trace=e.dagger=e.clone=e.mmul=e.identity=void 0;const r=i(n(977)),s=i(n(754)),a=()=>[[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ZERO]];e.identity=()=>[[r.default.ONE,r.default.ZERO,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ONE,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ONE,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ONE]],e.mmul=(t,e)=>{const n=a();for(let i=0;i<4;i++)for(let r=0;r<4;r++)for(let s=0;s<4;s++)n[i][r]=n[i][r].add(t[i][s].mul(e[s][r]));return n},e.clone=t=>{const e=a();for(let n=0;n<4;n++)for(let i=0;i<4;i++)e[n][i]=t[n][i];return e},e.dagger=t=>{const e=a();for(let n=0;n<4;n++)for(let i=0;i<4;i++)e[n][i]=t[i][n].conjugate();return e},e.trace=t=>Array.from({length:4},((e,n)=>t[n][n])).reduce(((t,e)=>t.add(e)),r.default.ZERO),e.fidelity=(t,n)=>(0,e.trace)((0,e.mmul)((0,e.dagger)(t),n)).abs()/4;const o=(t,e)=>[e[0].mul(t),e[1].mul(t),e[2].mul(t),e[3].mul(t)],u=(t,e)=>Array.from({length:4},((n,i)=>t[i].conjugate().mul(e[i]))).reduce(((t,e)=>t.add(e)),r.default.ZERO),c=(t,e)=>o(u(t,e).div(u(t,t)),t),h=t=>o(u(t,t).sqrt().inverse(),t),l=(t,e)=>[t[0].sub(e[0]),t[1].sub(e[1]),t[2].sub(e[2]),t[3].sub(e[3])];e.gram_schmidt=t=>{const e=t[0],n=h(e),i=l(t[1],c(e,t[1])),r=h(i),s=l(l(t[2],c(e,t[2])),c(i,t[2])),a=h(s),o=l(l(l(t[3],c(e,t[3])),c(i,t[3])),c(s,t[3]));return[n,r,a,h(o)]},e.random_unitary=()=>(0,e.gram_schmidt)((()=>{const t=a();for(let e=0;e<4;e++)for(let n=0;n<4;n++)t[e][n]=new r.default((0,s.default)(),(0,s.default)());return t})()),e.edit_arg_at=(t,e,n,i)=>{const s=a(),o=new r.default(0,i/2).exp();for(let i=0;i<4;i++)for(let r=0;r<4;r++)s[i][r]=t[i][r],i===e&&(s[i][r]=s[i][r].mul(o)),r===n&&(s[i][r]=s[i][r].mul(o));return s};const f=(t,n)=>{if(t[0][0].abs()>.95&&n>0)return t;if(t[0][0].abs()<.05&&n<0)return t;const i=(0,e.clone)(t);i[0][0]=t[0][0].mul(new r.default(n,0).exp());const s=1-t[0][0].abs()*t[0][0].abs(),a=1-i[0][0].abs()*i[0][0].abs();if(a<.05*.05*3)return t;const o=Math.sqrt(a/s);return i[0][1]=t[0][1].mul(o),i[0][2]=t[0][2].mul(o),i[0][3]=t[0][3].mul(o),(0,e.gram_schmidt)(i)};e.edit_abs_at=(t,n,i,r)=>{let s=(0,e.clone)(t);return 0!==n&&([s[0],s[n]]=[s[n],s[0]]),s=(0,e.dagger)(s),0!==i&&([s[0],s[i]]=[s[i],s[0]]),s=(0,e.dagger)(s),s=f(s,r/2),s=(0,e.dagger)(s),s=f(s,r/2),0!==i&&([s[0],s[i]]=[s[i],s[0]]),s=(0,e.dagger)(s),0!==n&&([s[0],s[n]]=[s[n],s[0]]),s}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}(()=>{"use strict";const t=n(991),e=n(861),i=(t,e)=>{console.log(t,e);const n=document.getElementById(t);for(let t=0;t<4;t++)for(let i=0;i<4;i++){const r={Y:50+100*t,X:50+100*i},s=e[t][i].abs();if(s<.05){const t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttributeNS(null,"cy",`${r.Y}`),t.setAttributeNS(null,"cx",`${r.X}`),t.setAttributeNS(null,"r",""+40*s),t.setAttributeNS(null,"fill","#000000"),t.setAttributeNS(null,"stroke","#000000"),t.setAttributeNS(null,"stroke-width","2"),n.appendChild(t)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttributeNS(null,"cy",`${r.Y}`),a.setAttributeNS(null,"cx",`${r.X}`),a.setAttributeNS(null,"r",""+40*s),a.setAttributeNS(null,"fill","#009f80"),a.setAttributeNS(null,"stroke","#005242"),a.setAttributeNS(null,"stroke-width","2"),n.appendChild(a);const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttributeNS(null,"d",`m \n                ${r.X} \n                ${r.Y} \n                ${40*e[t][i].re} \n                ${40*-e[t][i].im}\n                `),o.setAttributeNS(null,"stroke","#000000"),o.setAttributeNS(null,"stroke-width",""+5*Math.sqrt(s)),n.appendChild(o)}}};window.onload=()=>{const n=(0,e.random_unitary)();i("matrix",n);let r=(0,t.non_wasteful_random_gates)({length:10}),s=(0,t.gates_to_matrix)(r),a=0;for(let i=30;i<60;i++){let o=(0,t.non_wasteful_random_gates)({length:i/60*100}),u=(0,t.gates_to_matrix)(o),c=(0,e.fidelity)(n,u);a<c&&(r=o,s=u,a=c)}(t=>{var e,n;const i=document.getElementById("gates");let r="",s=8.5,a=!1;for(let i=0;i<t.length;i++){const o=t[i];if("single"===o.type){r+=`<rect x="${s}" y="${6*o.index-5}" width="5" height="4" stroke-width="0.125" stroke="#000000" fill="#ffffff" />`,"H"===o.gate?r+=`<path d="m${s+3.7} ${6*o.index-4.1}c0-.037-.031-.037-.048-.037c-.119 0-.246.007-.369.007c-.126 0-.256-.007-.379-.007c-.027 0-.065 0-.065.065c0 .034.024.034.089.034c.085 0 .181 0 .181.055c0 .021 0 .031-.007.051l-.215.863h-.938l.204-.826c.031-.116.051-.143.263-.143c.058 0 .089 0 .089-.061c0-.037-.031-.037-.048-.037c-.119 0-.246.007-.369.007c-.126 0-.256-.007-.379-.007c-.027 0-.065 0-.065.065c0 .034.024.034.089.034c.085 0 .181 0 .181.055c0 .021 0 .031-.007.051l-.467 1.879c-.031.119-.051.147-.259.147c-.061 0-.092 0-.092.065c0 .034.034.034.048.034c.119 0 .246-.007.369-.007c.123 0 .256.007.376.007c.027 0 .065 0 .065-.065c0-.034-.027-.034-.079-.034c-.191 0-.191-.027-.191-.058l.007-.051.242-.956h.937l-.228.918c-.031.119-.051.147-.259.147c-.061 0-.092 0-.092.065c0 .034.034.034.048.034c.119 0 .246-.007.369-.007c.123 0 .256.007.376.007c.027 0 .065 0 .065-.065c0-.034-.027-.034-.079-.034c-.191 0-.191-.027-.191-.058c0-.027.003-.044.007-.051l.469-1.881c.031-.116.051-.143.263-.143c.058 0 .089 0 .089-.061z" />`:"T"===o.gate&&(r+=`<path d="m${3.5+s} ${6*o.index-3.4} .103-.618c.007-.034.007-.041.007-.041c0-.038-.024-.038-.082-.038h-1.713c-.072 0-.079 0-.096.055l-.209.629c-.003.01-.01.034-.01.044c0 .034.034.034.044.034c.034 0 .038-.003.065-.072c.171-.508.246-.59.71-.59h.116c.079 0 .079.014.079.038c0 .02-.01.065-.014.072l-.461 1.846c-.03.126-.058.16-.348.16h-.041c-.061 0-.092 0-.092.065c0 .034.031.034.058.034l.485-.007.495.007c.034 0 .072 0 .072-.061c0-.038-.024-.038-.082-.038h-.041c-.058 0-.113-.003-.167-.01c-.065-.007-.099-.01-.099-.065c0-.017 0-.024.007-.058l.463-1.857c.024-.096.044-.113.072-.119c.024-.007.123-.007.184-.007c.297 0 .437.02.437.256c0 .102-.027.276-.038.331l-.007.038c0 .038.034.038.048.038c.041 0 .044-.01.055-.065z"/>`);const e=t[i+1];"cnot"===(null==e?void 0:e.type)?(s+=9.5,a=!1):"single"===(null==e?void 0:e.type)?e.index===o.index||a?(s+=7,a=!1):a=!0:void 0===e&&(s+=8.5,a=!1)}else"cnot"===o.type&&(1===o.control_bit?r+=`<circle cy="3" cx="${s}" r="0.6" />\n                <path d="m${s} 3 v 7.2" stroke-width="0.125" stroke="#000000" />\n                <circle cy="9" cx="${s}" r="1.2" stroke-width="0.125" stroke="#000000" fill="none" />`:2===o.control_bit&&(r+=`<circle cy="9" cx="${s}" r="0.6" />\n                <path d="m${s} 9 v -7.2" stroke-width="0.125" stroke="#000000" />\n                <circle cy="3" cx="${s}" r="1.2" stroke-width="0.125" stroke="#000000" fill="none" />`),"cnot"===(null===(e=t[i+1])||void 0===e?void 0:e.type)?s+=7:"single"===(null===(n=t[i+1])||void 0===n?void 0:n.type)?s+=4.5:void 0===t[i+1]&&(s+=3.5),a=!1)}i.innerHTML=`\n    <path d="m5 3 h ${s}" stroke-width="0.125" stroke="#000000" />\n    <path d="m5 9 h ${s}" stroke-width="0.125" stroke="#000000" />`+r,i.setAttribute("viewBox",`0 0 ${s+10} 15`)})(r),i("approx",s),document.getElementById("fidelity").textContent=`${(0,e.fidelity)(n,s)}`,document.getElementById("gate_count").textContent=`${r.length}`}})()})();