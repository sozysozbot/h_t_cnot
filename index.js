/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={977:function(t,e){var n;!function(i){"use strict";var r=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:.5*(Math.exp(t)+Math.exp(-t))},a=Math.sinh||function(t){return Math.abs(t)<1e-9?t:.5*(Math.exp(t)-Math.exp(-t))},s=function(){throw SyntaxError("Invalid Param")};function u(t,e){var n=Math.abs(t),i=Math.abs(e);return 0===t?Math.log(i):0===e?Math.log(n):n<3e3&&i<3e3?.5*Math.log(t*t+e*e):(t/=2,e/=2,.5*Math.log(t*t+e*e)+Math.LN2)}function o(t,e){if(!(this instanceof o))return new o(t,e);var n=function(t,e){var n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return o.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return o.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):s();break;case"string":n.im=n.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),r=1,a=0;null===i&&s();for(var u=0;u<i.length;u++){var h=i[u];" "===h||"\t"===h||"\n"===h||("+"===h?r++:"-"===h?a++:"i"===h||"I"===h?(r+a===0&&s()," "===i[u+1]||isNaN(i[u+1])?n.im+=parseFloat((a%2?"-":"")+"1"):(n.im+=parseFloat((a%2?"-":"")+i[u+1]),u++),r=a=0):((r+a===0||isNaN(h))&&s(),"i"===i[u+1]||"I"===i[u+1]?(n.im+=parseFloat((a%2?"-":"")+h),u++):n.re+=parseFloat((a%2?"-":"")+h),r=a=0))}r+a>0&&s();break;case"number":n.im=0,n.re=t;break;default:s()}return isNaN(n.re)||isNaN(n.im),n}(t,e);this.re=n.re,this.im=n.im}o.prototype={re:0,im:0,sign:function(){var t=this.abs();return new o(this.re/t,this.im/t)},add:function(t,e){var n=new o(t,e);return this.isInfinite()&&n.isInfinite()?o.NAN:this.isInfinite()||n.isInfinite()?o.INFINITY:new o(this.re+n.re,this.im+n.im)},sub:function(t,e){var n=new o(t,e);return this.isInfinite()&&n.isInfinite()?o.NAN:this.isInfinite()||n.isInfinite()?o.INFINITY:new o(this.re-n.re,this.im-n.im)},mul:function(t,e){var n=new o(t,e);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?o.NAN:this.isInfinite()||n.isInfinite()?o.INFINITY:0===n.im&&0===this.im?new o(this.re*n.re,0):new o(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){var n=new o(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return o.NAN;if(this.isInfinite()||n.isZero())return o.INFINITY;if(this.isZero()||n.isInfinite())return o.ZERO;t=this.re,e=this.im;var i,r,a=n.re,s=n.im;return 0===s?new o(t/a,e/a):Math.abs(a)<Math.abs(s)?new o((t*(r=a/s)+e)/(i=a*r+s),(e*r-t)/i):new o((t+e*(r=s/a))/(i=s*r+a),(e-t*r)/i)},pow:function(t,e){var n=new o(t,e);if(t=this.re,e=this.im,n.isZero())return o.ONE;if(0===n.im){if(0===e&&t>0)return new o(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new o(Math.pow(e,n.re),0);case 1:return new o(0,Math.pow(e,n.re));case 2:return new o(-Math.pow(e,n.re),0);case 3:return new o(0,-Math.pow(e,n.re))}}if(0===t&&0===e&&n.re>0&&n.im>=0)return o.ZERO;var i=Math.atan2(e,t),r=u(t,e);return t=Math.exp(n.re*r-n.im*i),e=n.im*r+n.re*i,new o(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,i=this.im,r=this.abs();if(n>=0){if(0===i)return new o(Math.sqrt(n),0);t=.5*Math.sqrt(2*(r+n))}else t=Math.abs(i)/Math.sqrt(2*(r-n));return e=n<=0?.5*Math.sqrt(2*(r-n)):Math.abs(i)/Math.sqrt(2*(r+n)),new o(t,i<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new o(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new o(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;var n=t*t;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new o(u(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,n=Math.abs(t),i=Math.abs(e),n<3e3&&i<3e3?Math.sqrt(n*n+i*i):(n<i?(n=i,i=t/e):i=e/t,n*Math.sqrt(1+i*i));var t,e,n,i},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new o(Math.sin(t)*r(e),Math.cos(t)*a(e))},cos:function(){var t=this.re,e=this.im;return new o(Math.cos(t)*r(e),-Math.sin(t)*a(e))},tan:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)+r(e);return new o(Math.sin(t)/n,a(e)/n)},cot:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)-r(e);return new o(-Math.sin(t)/n,a(e)/n)},sec:function(){var t=this.re,e=this.im,n=.5*r(2*e)+.5*Math.cos(2*t);return new o(Math.cos(t)*r(e)/n,Math.sin(t)*a(e)/n)},csc:function(){var t=this.re,e=this.im,n=.5*r(2*e)-.5*Math.cos(2*t);return new o(Math.sin(t)*r(e)/n,-Math.cos(t)*a(e)/n)},asin:function(){var t=this.re,e=this.im,n=new o(e*e-t*t+1,-2*t*e).sqrt(),i=new o(n.re-e,n.im+t).log();return new o(i.im,-i.re)},acos:function(){var t=this.re,e=this.im,n=new o(e*e-t*t+1,-2*t*e).sqrt(),i=new o(n.re-e,n.im+t).log();return new o(Math.PI/2-i.im,i.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new o(0,1/0);if(-1===e)return new o(0,-1/0)}var n=t*t+(1-e)*(1-e),i=new o((1-e*e-t*t)/n,-2*t/n).log();return new o(-.5*i.im,.5*i.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new o(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).atan():new o(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new o(0,1/0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).acos():new o(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new o(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).asin():new o(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new o(a(t)*Math.cos(e),r(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new o(r(t)*Math.cos(e),a(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,n=r(t)+Math.cos(e);return new o(a(t)/n,Math.sin(e)/n)},coth:function(){var t=2*this.re,e=2*this.im,n=r(t)-Math.cos(e);return new o(a(t)/n,-Math.sin(e)/n)},csch:function(){var t=this.re,e=this.im,n=Math.cos(2*e)-r(2*t);return new o(-2*a(t)*Math.cos(e)/n,2*r(t)*Math.sin(e)/n)},sech:function(){var t=this.re,e=this.im,n=Math.cos(2*e)+r(2*t);return new o(2*r(t)*Math.cos(e)/n,-2*a(t)*Math.sin(e)/n)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else e=t.im,t.im=-t.re,t.re=e;return t},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,i=1-t,r=1+t,a=i*i+e*e,s=0!==a?new o((r*i-e*e)/a,(e*i+r*e)/a):new o(-1!==t?t/0:0,0!==e?e/0:0),h=s.re;return s.re=u(s.re,s.im)/2,s.im=Math.atan2(s.im,h)/2,n&&(s.im=-s.im),s},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new o(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).atanh():new o(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new o(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).asinh():new o(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return o.INFINITY;var n=t*t+e*e;return 0!==n?new o(t/n,-e/n).acosh():new o(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var t=this.re,e=this.im,n=t*t+e*e;return new o(t/n,-e/n)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new o(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new o(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new o(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var n=new o(t,e);return Math.abs(n.re-this.re)<=o.EPSILON&&Math.abs(n.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<o.EPSILON&&(t=0),Math.abs(e)<o.EPSILON&&(e=0),0===e?n+t:(0!==t?(n+=t,n+=" ",e<0?(e=-e,n+="-"):n+="+",n+=" "):e<0&&(e=-e,n+="-"),1!==e&&(n+=e),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,void 0===(n=function(){return o}.apply(e,[]))||(t.exports=n)}()},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,a){for(var s,u,o=r(t),h=1;h<arguments.length;h++){for(var l in s=Object(arguments[h]))n.call(s,l)&&(o[l]=s[l]);if(e){u=e(s);for(var c=0;c<u.length;c++)i.call(s,u[c])&&(o[u[c]]=s[u[c]])}}return o}},754:(t,e,n)=>{"use strict";var i=n(418);t.exports=function t(e){if(e=i({mean:0,dev:1,pool:[]},e),Array.isArray(e.pool)&&e.pool.length>0)return function(e){var n=0;do{var i=Math.round(t({mean:e.mean,dev:e.dev}));if(i<e.pool.length&&i>=0)return e.pool[i];n++}while(n<100)}(e);var n,r,a,s=e.mean,u=e.dev;do{n=(r=2*Math.random()-1)*r+(a=2*Math.random()-1)*a}while(n>=1);return u*(r*Math.sqrt(-2*Math.log(n)/n))+s}},991:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.non_wasteful_random_gates=e.gates_to_matrix=void 0;const r=i(n(977)),a=n(861);function s(t,e){return[[t[0][0].mul(e[0][0]),t[0][1].mul(e[0][0]),t[0][0].mul(e[0][1]),t[0][1].mul(e[0][1])],[t[1][0].mul(e[0][0]),t[1][1].mul(e[0][0]),t[1][0].mul(e[0][1]),t[1][1].mul(e[0][1])],[t[0][0].mul(e[1][0]),t[0][1].mul(e[1][0]),t[0][0].mul(e[1][1]),t[0][1].mul(e[1][1])],[t[1][0].mul(e[1][0]),t[1][1].mul(e[1][0]),t[1][0].mul(e[1][1]),t[1][1].mul(e[1][1])]]}function u(t){const e=[[new r.default(Math.SQRT1_2,0),new r.default(Math.SQRT1_2,0)],[new r.default(Math.SQRT1_2,0),new r.default(-Math.SQRT1_2,0)]],n=[[r.default.ONE,r.default.ZERO],[r.default.ZERO,r.default.ONE]],i=[[r.default.ONE,r.default.ZERO],[r.default.ZERO,new r.default(Math.SQRT1_2,Math.SQRT1_2)]];if("cnot"===t.type){if(1===t.control_bit)return[[r.default.ONE,r.default.ZERO,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ONE,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ONE],[r.default.ZERO,r.default.ZERO,r.default.ONE,r.default.ZERO]];if(2===t.control_bit)return[[r.default.ONE,r.default.ZERO,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ONE],[r.default.ZERO,r.default.ZERO,r.default.ONE,r.default.ZERO],[r.default.ZERO,r.default.ONE,r.default.ZERO,r.default.ZERO]];throw t.control_bit,new Error("unreachable")}if("single"===t.type){if(1===t.index)return s({H:e,T:i}[t.gate],n);if(2===t.index)return s(n,{H:e,T:i}[t.gate]);throw t.index,new Error("unreachable")}throw new Error("unreachable")}e.gates_to_matrix=function(t){return t.map(u).reduce(((t,e)=>(0,a.mmul)(t,e)),(0,a.identity)())},e.non_wasteful_random_gates=function(t){const e=[];let n=!1,i=!1,r=!1,a=!1;for(;e.length<t.length;){const t=[{type:"single",index:1,gate:"T"},{type:"single",index:2,gate:"T"}];n||t.push({type:"single",index:1,gate:"H"}),i||t.push({type:"single",index:2,gate:"H"}),r||t.push({type:"cnot",control_bit:1}),a||t.push({type:"cnot",control_bit:2});const u=(s=t)[Math.random()*s.length|0];e.push(u),"cnot"===u.type?(n=!1,i=!1,r=1===u.control_bit,a=2===u.control_bit):"single"===u.type&&(r=!1,a=!1,1===u.index&&(n="H"===u.gate),2===u.index&&(i="H"===u.gate))}var s;return e}},861:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.edit_abs_at=e.edit_arg_at=e.random_unitary=e.gram_schmidt=e.fidelity=e.trace=e.dagger=e.clone=e.mmul=e.identity=void 0;const r=i(n(977)),a=i(n(754)),s=()=>[[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ZERO]];e.identity=()=>[[r.default.ONE,r.default.ZERO,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ONE,r.default.ZERO,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ONE,r.default.ZERO],[r.default.ZERO,r.default.ZERO,r.default.ZERO,r.default.ONE]],e.mmul=(t,e)=>{const n=s();for(let i=0;i<4;i++)for(let r=0;r<4;r++)for(let a=0;a<4;a++)n[i][r]=n[i][r].add(t[i][a].mul(e[a][r]));return n},e.clone=t=>{const e=s();for(let n=0;n<4;n++)for(let i=0;i<4;i++)e[n][i]=t[n][i];return e},e.dagger=t=>{const e=s();for(let n=0;n<4;n++)for(let i=0;i<4;i++)e[n][i]=t[i][n].conjugate();return e},e.trace=t=>Array.from({length:4},((e,n)=>t[n][n])).reduce(((t,e)=>t.add(e)),r.default.ZERO),e.fidelity=(t,n)=>(0,e.trace)((0,e.mmul)((0,e.dagger)(t),n)).abs()/4;const u=(t,e)=>[e[0].mul(t),e[1].mul(t),e[2].mul(t),e[3].mul(t)],o=(t,e)=>Array.from({length:4},((n,i)=>t[i].conjugate().mul(e[i]))).reduce(((t,e)=>t.add(e)),r.default.ZERO),h=(t,e)=>u(o(t,e).div(o(t,t)),t),l=t=>u(o(t,t).sqrt().inverse(),t),c=(t,e)=>[t[0].sub(e[0]),t[1].sub(e[1]),t[2].sub(e[2]),t[3].sub(e[3])];e.gram_schmidt=t=>{const e=t[0],n=l(e),i=c(t[1],h(e,t[1])),r=l(i),a=c(c(t[2],h(e,t[2])),h(i,t[2])),s=l(a),u=c(c(c(t[3],h(e,t[3])),h(i,t[3])),h(a,t[3]));return[n,r,s,l(u)]},e.random_unitary=()=>(0,e.gram_schmidt)((()=>{const t=s();for(let e=0;e<4;e++)for(let n=0;n<4;n++)t[e][n]=new r.default((0,a.default)(),(0,a.default)());return t})()),e.edit_arg_at=(t,e,n,i)=>{const a=s(),u=new r.default(0,i/2).exp();for(let i=0;i<4;i++)for(let r=0;r<4;r++)a[i][r]=t[i][r],i===e&&(a[i][r]=a[i][r].mul(u)),r===n&&(a[i][r]=a[i][r].mul(u));return a};const f=(t,n)=>{if(t[0][0].abs()>.95&&n>0)return t;if(t[0][0].abs()<.05&&n<0)return t;const i=(0,e.clone)(t);i[0][0]=t[0][0].mul(new r.default(n,0).exp());const a=1-t[0][0].abs()*t[0][0].abs(),s=1-i[0][0].abs()*i[0][0].abs();if(s<.05*.05*3)return t;const u=Math.sqrt(s/a);return i[0][1]=t[0][1].mul(u),i[0][2]=t[0][2].mul(u),i[0][3]=t[0][3].mul(u),(0,e.gram_schmidt)(i)};e.edit_abs_at=(t,n,i,r)=>{let a=(0,e.clone)(t);return 0!==n&&([a[0],a[n]]=[a[n],a[0]]),a=(0,e.dagger)(a),0!==i&&([a[0],a[i]]=[a[i],a[0]]),a=(0,e.dagger)(a),a=f(a,r/2),a=(0,e.dagger)(a),a=f(a,r/2),0!==i&&([a[0],a[i]]=[a[i],a[0]]),a=(0,e.dagger)(a),0!==n&&([a[0],a[n]]=[a[n],a[0]]),a}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}(()=>{"use strict";const t=n(991),e=n(861),i=(t,e)=>{console.log(t,e);const n=document.getElementById(t);for(let t=0;t<4;t++)for(let i=0;i<4;i++){const r={Y:50+100*t,X:50+100*i},a=e[t][i].abs();if(a<.05){const t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttributeNS(null,"cy",`${r.Y}`),t.setAttributeNS(null,"cx",`${r.X}`),t.setAttributeNS(null,"r",""+40*a),t.setAttributeNS(null,"fill","#000000"),t.setAttributeNS(null,"stroke","#000000"),t.setAttributeNS(null,"stroke-width","2"),n.appendChild(t)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttributeNS(null,"cy",`${r.Y}`),s.setAttributeNS(null,"cx",`${r.X}`),s.setAttributeNS(null,"r",""+40*a),s.setAttributeNS(null,"fill","#009f80"),s.setAttributeNS(null,"stroke","#005242"),s.setAttributeNS(null,"stroke-width","2"),n.appendChild(s);const u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttributeNS(null,"d",`m \n                ${r.X} \n                ${r.Y} \n                ${40*e[t][i].re} \n                ${40*-e[t][i].im}\n                `),u.setAttributeNS(null,"stroke","#000000"),u.setAttributeNS(null,"stroke-width",""+5*Math.sqrt(a)),n.appendChild(u)}}};window.onload=()=>{const n=(0,e.random_unitary)();i("matrix",n);let r=(0,t.non_wasteful_random_gates)({length:10}),a=(0,t.gates_to_matrix)(r),s=0;for(let i=30;i<60;i++){let u=(0,t.non_wasteful_random_gates)({length:i/60*100}),o=(0,t.gates_to_matrix)(u),h=(0,e.fidelity)(n,o);s<h&&(r=u,a=o,s=h)}(t=>{var e,n;const i=document.getElementById("gates");let r="",a=8.5,s=!1;for(let i=0;i<t.length;i++){const u=t[i];if("single"===u.type){r+=`<rect x="${a}" y="${6*u.index-5}" width="5" height="4" stroke-width="0.125" stroke="#000000" fill="#ffffff" />`,"H"===u.gate?r+=`<path d="m${a+3.7} ${6*u.index-4.1}c0-.037-.031-.037-.048-.037c-.119 0-.246.007-.369.007c-.126 0-.256-.007-.379-.007c-.027 0-.065 0-.065.065c0 .034.024.034.089.034c.085 0 .181 0 .181.055c0 .021 0 .031-.007.051l-.215.863h-.938l.204-.826c.031-.116.051-.143.263-.143c.058 0 .089 0 .089-.061c0-.037-.031-.037-.048-.037c-.119 0-.246.007-.369.007c-.126 0-.256-.007-.379-.007c-.027 0-.065 0-.065.065c0 .034.024.034.089.034c.085 0 .181 0 .181.055c0 .021 0 .031-.007.051l-.467 1.879c-.031.119-.051.147-.259.147c-.061 0-.092 0-.092.065c0 .034.034.034.048.034c.119 0 .246-.007.369-.007c.123 0 .256.007.376.007c.027 0 .065 0 .065-.065c0-.034-.027-.034-.079-.034c-.191 0-.191-.027-.191-.058l.007-.051.242-.956h.937l-.228.918c-.031.119-.051.147-.259.147c-.061 0-.092 0-.092.065c0 .034.034.034.048.034c.119 0 .246-.007.369-.007c.123 0 .256.007.376.007c.027 0 .065 0 .065-.065c0-.034-.027-.034-.079-.034c-.191 0-.191-.027-.191-.058c0-.027.003-.044.007-.051l.469-1.881c.031-.116.051-.143.263-.143c.058 0 .089 0 .089-.061z" />`:"T"===u.gate&&(r+=`<path d="m${3.5+a} ${6*u.index-3.4} .103-.618c.007-.034.007-.041.007-.041c0-.038-.024-.038-.082-.038h-1.713c-.072 0-.079 0-.096.055l-.209.629c-.003.01-.01.034-.01.044c0 .034.034.034.044.034c.034 0 .038-.003.065-.072c.171-.508.246-.59.71-.59h.116c.079 0 .079.014.079.038c0 .02-.01.065-.014.072l-.461 1.846c-.03.126-.058.16-.348.16h-.041c-.061 0-.092 0-.092.065c0 .034.031.034.058.034l.485-.007.495.007c.034 0 .072 0 .072-.061c0-.038-.024-.038-.082-.038h-.041c-.058 0-.113-.003-.167-.01c-.065-.007-.099-.01-.099-.065c0-.017 0-.024.007-.058l.463-1.857c.024-.096.044-.113.072-.119c.024-.007.123-.007.184-.007c.297 0 .437.02.437.256c0 .102-.027.276-.038.331l-.007.038c0 .038.034.038.048.038c.041 0 .044-.01.055-.065z"/>`);const e=t[i+1];"cnot"===(null==e?void 0:e.type)?(a+=9.5,s=!1):"single"===(null==e?void 0:e.type)?e.index===u.index||s?(a+=7,s=!1):s=!0:void 0===e&&(a+=8.5,s=!1)}else"cnot"===u.type&&(1===u.control_bit?r+=`<circle cy="3" cx="${a}" r="0.6" />\n                <path d="m${a} 3 v 7.2" stroke-width="0.125" stroke="#000000" />\n                <circle cy="9" cx="${a}" r="1.2" stroke-width="0.125" stroke="#000000" fill="none" />`:2===u.control_bit&&(r+=`<circle cy="9" cx="${a}" r="0.6" />\n                <path d="m${a} 9 v -7.2" stroke-width="0.125" stroke="#000000" />\n                <circle cy="3" cx="${a}" r="1.2" stroke-width="0.125" stroke="#000000" fill="none" />`),"cnot"===(null===(e=t[i+1])||void 0===e?void 0:e.type)?a+=7:"single"===(null===(n=t[i+1])||void 0===n?void 0:n.type)?a+=4.5:void 0===t[i+1]&&(a+=3.5),s=!1)}i.innerHTML=`\n    <path d="m5 3 h ${a}" stroke-width="0.125" stroke="#000000" />\n    <path d="m5 9 h ${a}" stroke-width="0.125" stroke="#000000" />`+r,i.setAttribute("viewBox",`0 0 ${a+10} 15`)})(r),i("approx",a),document.getElementById("fidelity").textContent=`${(0,e.fidelity)(n,a)}`,document.getElementById("gate_count").textContent=`${r.length}`}})()})();